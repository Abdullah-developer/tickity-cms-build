"use strict";(self["webpackChunktickity_frontend"]=self["webpackChunktickity_frontend"]||[]).push([[617],{4891:function(t,e,a){a.d(e,{Z:function(){return c}});var s=a(6252),i=a(3577);const l=["disabled"],n={key:1,class:"spinner-border spinner-border-sm",role:"status"};function o(t,e,a,o,r,u){return(0,s.wg)(),(0,s.iD)("button",{disabled:a.isDisabled,class:(0,i.C_)(["btn mb-0",u.getClasses(a.variant,a.color,a.size,a.fullWidth,a.active)])},[a.isLoading?(0,s.kq)("",!0):(0,s.WI)(t.$slots,"default",{key:0}),a.isLoading?((0,s.wg)(),(0,s.iD)("div",n)):(0,s.kq)("",!0)],10,l)}var r={name:"component-button",props:{color:{type:String,default:"info"},size:{type:String,default:"md"},variant:{type:String,default:"fill"},fullWidth:{type:Boolean,default:!1},active:{type:Boolean,default:!1},isLoading:{Type:Boolean,default:!1},isDisabled:{Type:Boolean,default:!1}},methods:{getClasses:(t,e,a,s,i)=>{let l,n,o,r;switch(t){case"gradient":l=`bg-gradient-${e}`;break;case"outline":l=`btn-outline-${e}`;break;default:l=`btn-${e}`;break}return n=a?`btn-${a}`:null,o=s?"w-100":null,r=i?"active":null,`${l} ${n} ${o} ${r}`}}},u=a(3744);const d=(0,u.Z)(r,[["render",o]]);var c=d},303:function(t,e,a){a.d(e,{Z:function(){return m}});var s=a(6252),i=a(3577);const l=(0,s._)("span",{"aria-hidden":"true"},[(0,s._)("i",{class:"fa fa-angle-left","aria-hidden":"true"})],-1),n=[l],o=["onClick"],r=(0,s._)("span",{"aria-hidden":"true"},[(0,s._)("i",{class:"fa fa-angle-right","aria-hidden":"true"})],-1),u=[r];function d(t,e,a,l,r,d){return(0,s.wg)(),(0,s.iD)("ul",{class:(0,i.C_)(["pagination",[a.size&&`pagination-${a.size}`,a.align&&`justify-content-${a.align}`]])},[(0,s._)("li",{class:(0,i.C_)(["page-item prev-page",{disabled:1===a.value}])},[(0,s._)("a",{class:"page-link","aria-label":"Previous",onClick:e[0]||(e[0]=(...t)=>d.prevPage&&d.prevPage(...t))},n)],2),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(d.range(d.minPage,d.maxPage),(t=>((0,s.wg)(),(0,s.iD)("li",{class:(0,i.C_)(["page-item",{active:a.value===t}]),key:t},[(0,s._)("a",{class:"page-link",onClick:e=>d.changePage(t)},(0,i.zw)(t),9,o)],2)))),128)),(0,s._)("li",{class:(0,i.C_)(["page-item next-page",{disabled:a.value===d.totalPages}])},[(0,s._)("a",{class:"page-link","aria-label":"Next",onClick:e[1]||(e[1]=(...t)=>d.nextPage&&d.nextPage(...t))},u)],2)],2)}a(7658);var c={name:"base-pagination",props:{pageCount:{type:Number,default:0},perPage:{type:Number,default:10},total:{type:Number,default:0},value:{type:Number,default:1},size:{type:String,default:""},align:{type:String,default:""}},computed:{totalPages(){return this.pageCount>0?this.pageCount:this.total>0?Math.ceil(this.total/this.perPage):1},pagesToDisplay(){return this.totalPages>0&&this.totalPages<this.defaultPagesToDisplay?this.totalPages:this.defaultPagesToDisplay},minPage(){if(this.value>=this.pagesToDisplay){const t=Math.floor(this.pagesToDisplay/2),e=t+this.value;return e>this.totalPages?this.totalPages-this.pagesToDisplay+1:this.value-t}return 1},maxPage(){if(this.value>=this.pagesToDisplay){const t=Math.floor(this.pagesToDisplay/2),e=t+this.value;return e<this.totalPages?e:this.totalPages}return this.pagesToDisplay}},data(){return{defaultPagesToDisplay:5}},methods:{range(t,e){let a=[];for(let s=t;s<=e;s++)a.push(s);return a},changePage(t){this.$emit("input",t)},nextPage(){this.value<this.totalPages&&this.$emit("input",this.value+1)},prevPage(){this.value>1&&this.$emit("input",this.value-1)}},watch:{perPage(){this.$emit("input",1)},total(){this.$emit("input",1)}}},g=a(3744);const p=(0,g.Z)(c,[["render",d]]);var m=p},1617:function(t,e,a){a.r(e),a.d(e,{default:function(){return F}});var s=a(6252);function i(t,e,a,i,l,n){const o=(0,s.up)("CustomersTable"),r=(0,s.up)("PaginationComponent");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(o,{customers:n.customersList.data},null,8,["customers"]),n.customersList.totalCount?((0,s.wg)(),(0,s.j4)(r,{key:0,class:"mt-4",pageCount:Math.ceil(n.customersList.totalCount/n.customersList.pageSize),perPage:l.pagination.pageSize,value:t.currentPage,align:"center",onInput:n.handlePageChange},null,8,["pageCount","perPage","value","onInput"])):(0,s.kq)("",!0)])}var l=a(3577),n=a(1209);const o={class:"card min-vh-50"},r={class:"card-header pb-0"},u={class:"d-flex justify-content-between"},d={class:"d-flex gap-4 align-items-center"},c=(0,s._)("h4",null,"Customers",-1),g={key:0,class:"spinner-border spinner-border",role:"status"},p={class:"card-body px-0 pt-0 pb-2"},m={class:"table-responsive p-0"},h={key:0,class:"table align-items-center mb-0"},b=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"},"Username / Email"),(0,s._)("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"},"Name / Phone"),(0,s._)("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"},"Create Date"),(0,s._)("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"},"Update Date"),(0,s._)("th",{class:"text-secondary opacity-7"}),(0,s._)("th",{class:"text-secondary opacity-7"})])],-1),f={class:"d-flex px-2 py-1"},_=["data"],C=(0,s._)("img",{src:n,alt:"Stack Overflow logo and icons and such"},null,-1),x=[C],v={class:"d-flex flex-column justify-content-center"},y={class:"mb-0 text-sm"},k={class:"text-center text-xs text-secondary mb-0"},P={class:"d-flex flex-column text-start"},D={class:"mb-0 text-sm"},w={class:"text-xs text-secondary mb-0"},S={class:"d-flex flex-column text-start"},T={class:"text-xs font-weight-bold mb-0"},$={class:"d-flex flex-column text-start"},L={class:"text-xs font-weight-bold mb-0"},z={class:"align-middle"},E=["onClick"],M=(0,s._)("i",{class:"fas fa-pencil-alt text-dark me-2","aria-hidden":"true"},null,-1),O={class:"align-middle"},N=["onClick"],A=(0,s._)("i",{class:"far fa-trash-alt me-2","aria-hidden":"true"},null,-1);function U(t,e,a,i,n,C){const U=(0,s.up)("button-component"),j=(0,s.up)("AddCustomer"),q=(0,s.up)("EditCustomer"),R=(0,s.up)("deleteCustomer");return(0,s.wg)(),(0,s.iD)("div",o,[(0,s._)("div",r,[(0,s._)("div",u,[(0,s._)("div",d,[c,C.tableProgress.loading?((0,s.wg)(),(0,s.iD)("div",g)):(0,s.kq)("",!0)]),(0,s.Wm)(U,{color:"success",size:"sm",variant:"outline",isLoading:C.tableProgress.loading,isDisabled:C.tableProgress.loading,onClick:e[0]||(e[0]=t=>C.toggleAddModal())},{default:(0,s.w5)((()=>[(0,s.Uk)(" Add Customer ")])),_:1},8,["isLoading","isDisabled"])])]),(0,s._)("div",p,[(0,s._)("div",m,[C.tableProgress.loading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("table",h,[b,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.customers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id},[(0,s._)("td",null,[(0,s._)("div",f,[(0,s._)("div",null,[(0,s._)("object",{data:"http://testingnbackend.somee.com"+t.imageUrl,type:"image/png",class:"avatar avatar-sm me-3"},x,8,_)]),(0,s._)("div",v,[(0,s._)("h6",y,(0,l.zw)(t.userName),1),(0,s._)("p",k,(0,l.zw)(t.email),1)])])]),(0,s._)("td",null,[(0,s._)("div",P,[(0,s._)("h6",D,(0,l.zw)(t.name),1),(0,s._)("p",w,(0,l.zw)(t.phone),1)])]),(0,s._)("td",null,[(0,s._)("div",S,[(0,s._)("p",T,(0,l.zw)(C.getFormattedDate(t.createAt)),1)])]),(0,s._)("td",null,[(0,s._)("div",$,[(0,s._)("p",L,(0,l.zw)(C.getFormattedDate(t.updateAt)),1)])]),(0,s._)("td",z,[(0,s._)("a",{class:"btn btn-link text-dark",onClick:e=>C.toggleEditModal(t.id)},[M,(0,s.Uk)("Edit ")],8,E)]),(0,s._)("td",O,[(0,s._)("a",{class:"btn btn-link text-danger text-gradient",onClick:e=>C.toggleDeleteModal(t.id)},[A,(0,s.Uk)("Delete ")],8,N)])])))),128))])]))])]),C.modals.addCustomer?((0,s.wg)(),(0,s.j4)(j,{key:0})):(0,s.kq)("",!0),C.modals.editCustomer?((0,s.wg)(),(0,s.j4)(q,{key:1})):(0,s.kq)("",!0),C.modals.deleteCustomer?((0,s.wg)(),(0,s.j4)(R,{key:2})):(0,s.kq)("",!0)])}var j=a(4891),q=a(381),R=a.n(q),Z={name:"customers-table",props:{customers:Object},components:{ButtonComponent:j.Z,AddCustomer:(0,s.RC)((()=>a.e(752).then(a.bind(a,752)))),EditCustomer:(0,s.RC)((()=>a.e(771).then(a.bind(a,771)))),deleteCustomer:(0,s.RC)((()=>a.e(459).then(a.bind(a,5405))))},computed:{tableProgress(){return this.$store.state.CustomersStore.progress.customersList},modals(){return this.$store.state.CustomersStore.modals}},methods:{getFormattedDate:t=>R()(t).format("YYYY-MM-DD HH:mm"),toggleAddModal(){this.$store.commit("CustomersStore/TOGGLE_ADD_CUSTOMER_MODAL")},toggleEditModal(t){this.$store.commit("CustomersStore/SET_CUSTOMER_ID",t),this.$store.commit("CustomersStore/TOGGLE_EDIT_CUSTOMER_MODAL")},toggleDeleteModal(t){this.$store.commit("CustomersStore/SET_CUSTOMER_ID",t),this.$store.commit("CustomersStore/TOGGLE_DELETE_CUSTOMER_MODAL")}}},G=a(3744);const I=(0,G.Z)(Z,[["render",U]]);var Y=I,B=a(303),W={name:"customers-page",components:{CustomersTable:Y,PaginationComponent:B.Z},data(){return{pagination:{pageSize:10,pageNumber:1,currentPage:1}}},mounted(){this.$store.dispatch("CustomersStore/loadCustomersList",{pageNumber:this.pagination.pageNumber,pageSize:this.pagination.pageSize})},computed:{customersList(){return this.$store.state.CustomersStore.customersList}},methods:{handlePageChange(t){this.currentPage=t,this.$store.dispatch("CustomersStore/loadCustomersList",{pageNumber:this.pagination.pageNumber*this.currentPage,pageSize:this.pagination.pageSize})}}};const H=(0,G.Z)(W,[["render",i]]);var F=H},1209:function(t,e,a){t.exports=a.p+"img/team-2.5ae2f141.jpg"}}]);
//# sourceMappingURL=617.07022764.js.map