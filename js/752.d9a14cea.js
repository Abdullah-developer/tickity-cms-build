"use strict";(self["webpackChunktickity_frontend"]=self["webpackChunktickity_frontend"]||[]).push([[752],{5234:function(e,a,t){t.d(a,{Z:function(){return g}});var o=t(6252),s=t(3577);const i={class:"form-group"},l={key:0,class:"input-group-text"},r=["type","name","id","value","placeholder","required"],n={key:1,class:"invalid-feedback"},d={key:2,class:"input-group-text"};function m(e,a,t,m,u,c){return(0,o.wg)(),(0,o.iD)("div",i,[(0,o._)("div",{class:(0,s.C_)(c.hasIcon(t.icon))},["left"===t.iconDir?((0,o.wg)(),(0,o.iD)("span",l,[(0,o._)("i",{class:(0,s.C_)(c.getIcon(t.icon))},null,2)])):(0,o.kq)("",!0),(0,o._)("input",{type:t.type,class:(0,s.C_)(["form-control",(c.getClasses(t.size,t.valid),{"is-invalid":!t.valid&&(t.startValidate||u.inputBlured),"is-valid":t.valid})]),name:t.name,id:t.id,value:t.value,placeholder:t.placeholder,required:t.isRequired,onInput:a[0]||(a[0]=a=>e.$emit("input",a))},null,42,r),t.errorMessage?((0,o.wg)(),(0,o.iD)("div",n,(0,s.zw)(t.errorMessage),1)):(0,o.kq)("",!0),"right"===t.iconDir?((0,o.wg)(),(0,o.iD)("span",d,[(0,o._)("i",{class:(0,s.C_)(c.getIcon(t.icon))},null,2)])):(0,o.kq)("",!0)],2)])}var u={name:"component-input",props:{size:{type:String,default:"default"},valid:{type:Boolean,default:!1},startValidate:{type:Boolean,default:!1},errorMessage:String,icon:String,iconDir:String,name:String,id:String,value:String,placeholder:String,type:String,isRequired:Boolean},data(){return{inputBlured:!1}},methods:{getClasses:(e,a)=>{let t,o;return t=e?`form-control-${e}`:null,o=a?`${a}`:"invalid",`${t} ${o}`},getIcon:e=>e||null,hasIcon:e=>e?"input-group":null}},c=t(3744);const p=(0,c.Z)(u,[["render",m]]);var g=p},8646:function(e,a,t){t.d(a,{Z:function(){return c}});var o=t(6252),s=t(3577),i=t(9963);const l=["aria-hidden"],r=["aria-hidden"];function n(e,a,t,n,d,m){return(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{class:(0,s.C_)(["modal fade",[{"show d-block":t.show},{"d-none":!t.show},{"modal-mini":"mini"===t.type}]]),onClick:a[1]||(a[1]=(0,i.iM)(((...e)=>m.closeModal&&m.closeModal(...e)),["self"])),tabindex:"-1",role:"dialog","aria-hidden":!t.show},[(0,o._)("div",{class:(0,s.C_)(["modal-dialog modal-dialog-centered",[{"modal-notice":"notice"===t.type},t.modalClasses]])},[(0,o._)("div",{class:(0,s.C_)(["modal-content",[t.gradient?`bg-gradient-${t.gradient}`:"",t.modalContentClasses]])},[e.$slots.header?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,s.C_)(["modal-header",[t.headerClasses]])},[(0,o.WI)(e.$slots,"header"),(0,o.WI)(e.$slots,"close-button",{},(()=>[t.showClose?((0,o.wg)(),(0,o.iD)("button",{key:0,type:"button",class:"close",onClick:a[0]||(a[0]=(...e)=>m.closeModal&&m.closeModal(...e)),"data-dismiss":"modal","aria-label":"Close"},[(0,o._)("span",{"aria-hidden":!t.show},"×",8,r)])):(0,o.kq)("",!0)]))],2)):(0,o.kq)("",!0),(0,o._)("div",{class:(0,s.C_)(["modal-body",t.bodyClasses])},[(0,o.WI)(e.$slots,"default")],2),e.$slots.footer?((0,o.wg)(),(0,o.iD)("div",{key:1,class:(0,s.C_)(["modal-footer",t.footerClasses])},[(0,o.WI)(e.$slots,"footer")],2)):(0,o.kq)("",!0)],2)],2)],10,l)),[[i.F8,t.show]])}var d={name:"modal-dialog",props:{show:Boolean,showClose:{type:Boolean,default:!0},type:{type:String,default:"",validator(e){let a=["","notice","mini"];return-1!==a.indexOf(e)},description:'Modal type (notice|mini|"") '},modalClasses:{type:[Object,String],description:"Modal dialog css classes"},modalContentClasses:{type:[Object,String],description:"Modal dialog content css classes"},gradient:{type:String,description:"Modal gradient type (danger, primary etc)"},headerClasses:{type:[Object,String],description:"Modal Header css classes"},bodyClasses:{type:[Object,String],description:"Modal Body css classes"},footerClasses:{type:[Object,String],description:"Modal Footer css classes"},animationDuration:{type:Number,default:500,description:"Modal transition duration"}},methods:{closeModal(){this.$emit("update:show",!1),this.$emit("close")}},watch:{show(e){let a=document.body.classList;e?a.add("modal-open"):a.remove("modal-open")}}},m=t(3744);const u=(0,m.Z)(d,[["render",n]]);var c=u},752:function(e,a,t){t.r(a),t.d(a,{default:function(){return k}});var o=t(6252),s=t(9963),i=t(3577);const l={class:"row"},r=(0,o._)("h6",{class:"modal-title",id:"modal-title-default"},"Add Customer",-1),n=(0,o._)("p",{class:"mt-4"},[(0,o.Uk)("Please Fill these data to add new "),(0,o._)("strong",null,"Customer")],-1),d={class:"d-flex flex-column"},m={class:"col-auto mb-3"},u=(0,o._)("option",{value:"0"},"Choose Governorate ...",-1),c=["value"],p={class:"mb-3"},g={key:0,for:"formFile",class:"form-label"},f={key:1,for:"formFile",class:"form-label"},h={key:2,for:"formFile",class:"form-label text-danger"},v={class:"d-flex justify-content-between gap-1"};function V(e,a,t,V,C,w){const y=(0,o.up)("input-component"),M=(0,o.up)("button-component"),b=(0,o.up)("modal");return(0,o.wg)(),(0,o.iD)("div",l,[(0,o.Wm)(b,{show:w.modalStatus},{default:(0,o.w5)((()=>[r,n,(0,o._)("form",{onSubmit:a[4]||(a[4]=(0,s.iM)((()=>{}),["prevent"]))},[(0,o._)("div",d,[(0,o.Wm)(y,{onInput:w.name,type:"text",placeholder:"Customer Name",name:"name",size:"md",value:C.form.name,valid:C.formValidation.name.isValid,startValidate:C.formValidation.name.startValidate,errorMessage:C.formValidation.name.errorMessage},null,8,["onInput","value","valid","startValidate","errorMessage"]),(0,o.Wm)(y,{onInput:w.password,type:"password",placeholder:"Customer Password",name:"password",size:"md",value:C.form.password,valid:C.formValidation.password.isValid,startValidate:C.formValidation.password.startValidate,errorMessage:C.formValidation.password.errorMessage},null,8,["onInput","value","valid","startValidate","errorMessage"]),(0,o.Wm)(y,{onInput:w.email,type:"email",placeholder:"Customer Mail",name:"email",size:"md",value:C.form.email,valid:C.formValidation.email.isValid,startValidate:C.formValidation.email.startValidate,errorMessage:C.formValidation.email.errorMessage},null,8,["onInput","value","valid","startValidate","errorMessage"]),(0,o.Wm)(y,{onInput:w.phone,type:"tel",placeholder:"Customer Phone Number",name:"Phone Number",size:"md",value:C.form.phone,valid:C.formValidation.phone.isValid,startValidate:C.formValidation.phone.startValidate,errorMessage:C.formValidation.phone.errorMessage},null,8,["onInput","value","valid","startValidate","errorMessage"]),(0,o._)("div",m,[(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":a[0]||(a[0]=e=>C.form.governorate=e),class:"form-select",id:"autoSizingSelect"},[u,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(C.governorates,(e=>((0,o.wg)(),(0,o.iD)("option",{key:e.id,value:e},(0,i.zw)(e),9,c)))),128))],512),[[s.bM,C.form.governorate]])]),(0,o.Wm)(y,{onInput:w.area,type:"text",placeholder:"Customer area",name:"area",size:"md",value:C.form.area,valid:C.formValidation.area.isValid,startValidate:C.formValidation.area.startValidate,errorMessage:C.formValidation.area.errorMessage},null,8,["onInput","value","valid","startValidate","errorMessage"]),(0,o._)("div",p,[C.fileUploadInProgress||C.fileUploadInFailed?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("label",g," Customer Image ")),C.fileUploadInProgress?((0,o.wg)(),(0,o.iD)("label",f,"Uploading In Progress")):(0,o.kq)("",!0),C.fileUploadInFailed?((0,o.wg)(),(0,o.iD)("label",h,"Failed to Uplaod file")):(0,o.kq)("",!0),(0,o._)("input",{onChange:a[1]||(a[1]=(...e)=>w.fileSelect&&w.fileSelect(...e)),class:"form-control",type:"file",id:"formFile"},null,32)])]),(0,o._)("div",v,[(0,o.Wm)(M,{class:"mt-4",variant:"gradient",color:"success",size:"sm",isLoading:w.actionInProgress.loading,disabled:w.actionInProgress.loading||C.fileUploadInProgress,onClick:a[2]||(a[2]=e=>w.addCustomer())},{default:(0,o.w5)((()=>[(0,o.Uk)(" Submit ")])),_:1},8,["isLoading","disabled"]),(0,o.Wm)(M,{class:"mt-4",variant:"gradient",color:"danger",size:"sm",onClick:a[3]||(a[3]=e=>w.toggleModal())},{default:(0,o.w5)((()=>[(0,o.Uk)(" Close ")])),_:1})])],32)])),_:1},8,["show"])])}var C=t(8646),w=t(4891),y=t(5234),M=t(9270),b={name:"add-customer",components:{Modal:C.Z,ButtonComponent:w.Z,InputComponent:y.Z},data(){return{form:{name:"",phone:"",email:"",password:"",imageUrl:"/uploads/310e8766-e238-4e20-a83e-2b1c098242e0.png",governorate:"",area:""},formValidation:{name:{isValid:!1,startValidate:!1,errorMessage:""},phone:{isValid:!1,startValidate:!1,errorMessage:""},email:{isValid:!1,startValidate:!1,errorMessage:""},password:{isValid:!1,startValidate:!1,errorMessage:""},governorate:{isValid:!1,startValidate:!1,errorMessage:""},area:{isValid:!1,startValidate:!1,errorMessage:""}},governorates:["بغداد","نينوى","البصرة","صلاح الدين","دهوك","أربيل","السليمانية","ديالى","واسط","ميسان","ذي قار","المثنى","بابل","كربلاء","النجف","الانبار","الديوانية","كركوك","حلبجة"],fileUploadInProgress:!1,fileUploadInFailed:!1,uploadedFileDetails:{}}},computed:{modalStatus(){return this.$store.state.CustomersStore.modals.addCustomer},actionInProgress(){return this.$store.state.CustomersStore.progress.addCustomers},formStatus(){return this.formValidation.name.isValid}},methods:{name(e){this.form.name=e.target.value},phone(e){this.form.phone=e.target.value},email(e){this.form.email=e.target.value},password(e){this.form.password=e.target.value},area(e){this.form.area=e.target.value},fileSelect(e){if(!e.target.files.length)return;this.fileUploadInProgress=!0,this.fileUploadInFailed=!1;const a=new FormData;a.append("file",e.target.files[0]),M.Z.post("files/upload",a).then((e=>{this.fileUploadInProgress=!1,this.uploadedFileDetails=e.data})).catch((()=>{this.fileUploadInFailed=!0,this.fileUploadInProgress=!1}))},toggleModal(){this.$store.commit("CustomersStore/TOGGLE_ADD_CUSTOMER_MODAL")},startValidation(){this.formValidation.name.startValidate=!0,this.formValidation.email.startValidate=!0,this.formValidation.phone.startValidate=!0,this.formValidation.password.startValidate=!0},checkForm(){this.formValidation.name.startValidate=!0,this.form.name.length?this.formValidation.name.isValid=!0:(this.formValidation.name.isValid=!1,this.formValidation.name.errorMessage="Name Field is required")},addCustomer(){this.checkForm(),this.formStatus&&this.$store.dispatch("CustomersStore/addCustomer",this.form)}}},I=t(3744);const _=(0,I.Z)(b,[["render",V]]);var k=_}}]);
//# sourceMappingURL=752.d9a14cea.js.map